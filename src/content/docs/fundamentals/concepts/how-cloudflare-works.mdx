---
内容类型：概念
标题：云耀斑的工作原理
侧边栏：
订单数：2

---

从"~/零组件"中导入{术语工具提示}

云闪环球网络（https://www.cloudflare.com/network/)可以提高连接到互联网的任何东西（如您的网站、SaaS应用程序或企业网络）的安全、性能、可靠性和隐私性。

##应用服务

为了优化您的网站或网络应用程序，CloudFlare充当【域名服务器提供商】（https://www.cloudflare.com/learning/dns/what-is-dns/)用于您的域，以及一个[反向代理]（https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/)为您的网络流量。

###CloudFlare作为域名系统提供商的工作方式

我们支持使用Cloudflare作为DNS提供商的几种不同的[设置]（/dns/zone-setups/）。[完整DNS设置]（/dns/zone-setups/full-setup/）是最常见的，在您[将您的域连接到Cloudflare](/fundamentals/setup/manage-domains/connect-your-domain/). 这意味着我们响应您的域的域名系统查询，而您【管理其域名系统记录】（/域名系统/管理—域名系统—记录/操作方法/创建—域名系统记录/）通过云端或应用程序接口。

当Cloudflare收到您的域的DNS查询时，我们的响应由[在您的DNS表中设置的]（/dns）配置决定。/管理数据记录/How-to/create-dns-records/），包括记录的值、记录的[代理]eligibility](/dns/manage-dns-records/reference/proxied-dns-records/#proxy-eligibility),及其【代理status](/dns/manage-dns-records/reference/proxied-dns-records/).

如果【域的status](/dns/zone-setups/reference/domain-status/)是活动的，并且查询的域名系统记录被设置为"代理"，然后Cloudflare（Cloudflare）用一个【选播IP】响应。address](/fundamentals/concepts/cloudflare-ip-addresses/), **而不是**域名系统表中定义的值。这有效地重新路由“HTTP/HTTPS“请求到云火（Cloudflare）网络，而不是直接到达目标的【源服务器】（https://www.cloudflare.com/learning/cdn/glossary/origin-server/).

相反，如果查询的域名系统记录被设置为“仅限域名系统”，这意味着代理处于关闭状态，那么CloudFlare将使用域名系统表中定义的值（即IP地址或CNAME记录）进行响应。这意味着“HTTP/HTTPS”请求直接路由到原始服务器，不受云雾的处理或保护。

###cloudflare如何作为反向代理工作

DNS表中的所有DNS记录都有一个【代理status](/dns/manage-dns-records/reference/proxied-dns-records/),指示该记录的“HTTP/HTTPS"流量在客户端和源服务器之间是否会路由Cloudflare。如果【域的status](/dns/zone-setups/reference/domain-status/)处于活动状态，所有针对【附加域名】的“HTTP/HTTPS”请求均已启动records](/dns/manage-dns-records/reference/proxied-dns-records/#proxied-records)穿过云焰

当这些请求通过我们的网络时，它们会根据您的要求进行处理。[configuration](/fundamentals/setup/manage-domains/connect-your-domain/#domain-configurations). 随后，合法请求被转发到原服务器。

请参考我们的[负载平衡参考architecture](/reference-architecture/architectures/load-balancing/)了解更多关于将流量转发到您的源（或其他<GlossaryTooltip术语="端点"）>的高级方法link="/glossary/?term=endpoint">endpoints</GlossaryTooltip>),以及我们的【CDN参考资料】architecture](/reference-architecture/architectures/cdn/)详细了解Cloudflare如何处理和优化您的网络流量。

注意:

默认情况下，对服务“HTTP/HTTPS”流量的记录（“A”、“AAAA”和”CNAME“记录）启用代理。若要在[非标准端口]（/fundamentals/reference/network-ports/）上代理”HTTP/HTTPS“流量，或代理基于"TCP协议“或"UDP协议“的应用程序，请使用[Cloudflare Spectrum]（/spectrum/）。
:::

在Cloudflare仪表板中，通过选择您的域并导航到"DNS记录"选项卡，查找哪些DNS记录被代理。

#### Example DNS table

| Type |  Name  |   Content   | Proxy status |   TTL  | Actions |
| :--: | :----: | :---------: | :----------: | :----: | ------: |
|  `A` | `blog` | `192.0.2.1` |   `Proxied`  | `Auto` |  `Edit` |
|  `A` | `shop` | `192.0.2.2` |  `DNS only`  | `Auto` |  `Edit` |

In the example DNS table above, there are two DNS records. The record with the name `blog` has the proxy on, while the record named `shop` has the proxy off (that is, `DNS only`).

#### Proxied DNS record example

When the browser initiates a `HTTP/HTTPS` request to `blog.example.com`, a DNS resolver will convert the hostname into an IP address. Since this domain is using Cloudflare as its Authoritative DNS provider, the DNS query will be routed to Cloudflare; and because the proxy is on, Cloudflare will answer with an anycast IP address. Subsequently, the browser initiates a `HTTP/HTTPS` request back to Cloudflare. When Cloudflare receives this request, it performs a lookup to find the matching domain and account configuration and processes the request accordingly. Cloudflare forwards it to the configured origin server, which is `192.0.2.1`.

#### DNS only record example

When the browser initiates a `HTTP/HTTPS` request to `shop.example.com`, a DNS resolver will convert the hostname into an IP address. Since this domain is using Cloudflare as its Authoritative DNS provider, the DNS query will be routed to Cloudflare; but since the proxy is off (that is, `DNS only`), Cloudflare will answer with `192.0.2.2`. Finally, the browser initiates a `HTTP/HTTPS` request to the server hosted at `192.0.2.2`.
